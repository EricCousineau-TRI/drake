---
title: Drake v1.3.0
released: YYYY-MM-DD
---

# Announcements

* TBD

# Breaking changes since v1.2.0

* TBD

Refer to our [Drake Stability Guidelines](/stable.html) for our policy
on API changes.

# Changes since v1.2.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

* TBD [systems] Controllability and observability for discrete-time systems ([#17029][_#17029])
* TBD [systems,manipulation,multibody,solvers,tools] Remove deprecated code 2022-05 ([#17076][_#17076])

New features

* TBD

Fixes

* TBD

## Mathematical Program

<!-- <relnotes for solvers go here> -->

* TBD [solvers,common] Speedup MathematicalProgram::NewFreePolynomial ([#17011][_#17011])  # 1. Construct the polynomial using map instead of adding each terms. 2. Use Variables.insert instead of += to avoid redundant copying
* TBD [solvers] Ipopt supports kPrintFileName ([#17034][_#17034])
* TBD Make2NormSquaredCost should set convex flag to true ([#17074][_#17074])  # Also remove the unused MakeL2NormCost.
* TBD [solvers,math] [math] Remove some pointer-offset UB ([#17094][_#17094])  # Refer to https://reviews.llvm.org/D67122 for details. We are not allowed (for example) to form zero-sized blocks into zero-sized matrices using a non-zero row offset, at least not with Eigen 3.3.7. This fault is detected by our forthcoming Clang 12 UBSan builds.
* TBD MosekSolver returns the solution even the problem is unbounded or infeasible ([#17089][_#17089])  # .
* TBD AddEqualityConstraintBetweenPolynomials now returns linear constraints ([#17104][_#17104])
* TBD Retrieve dual solution for positive semidefinite constraint in Mosek ([#17106][_#17106])
* TBD [solvers] Remove some pointer-offset UB ([#17096][_#17096])  # Refer to https://reviews.llvm.org/D67122 for details. We are not allowed (for example) to form zero-sized blocks into zero-sized matrices, at least not with Eigen 3.3.7. This fault is detected by our forthcoming Clang 12 UBSan builds.
* TBD [solvers] Fix UB in Gurobi bindings ([#17133][_#17133])  # In the GurobiTest.TestCallbacks the cbget function was a no-op for some reason, leaving the double value uninitialized.
* TBD Allow the user to specify the print out name of the Gram matrix ([#17114][_#17114])  # When adding SOS polynomial constraint, set the name of the Gram matrix. This is useful for debugging SOS.
* TBD [solvers,math] AddQuadraticAsRotatedLorentzConeConstraint takes optinal psd_tol ([#17125][_#17125])  # When the minimal eigen value of Q is smaller than -psd_tol, then we throw an error. This helps when Q is computed numerically and being marginally psd.

New features

* TBD

Fixes

* TBD

## Multibody Dynamics and Geometry

<!-- <relnotes for geometry,multibody go here> -->

* TBD [meshcat] Add python bindings for Meshcat::SetCamera ([#17008][_#17008])
* TBD [multibody,examples,manipulation] [parsing] Warn about unsupported URDF features ([#16953][_#16953])  # Closes: #16783 Closes: #16181 Based on study of the ROS documentation and urdfdom module sources, add warnings and documentation for ignored URDF features. Implementation is similar to the in-progress mujoco parser, with an eye to future integration of diagnostics there. Adjust tests for existing files that emit new warnings, and add explicit tests for each of the added warning types. For Release Notes: This patch modifies some installed example files to purge unsuppported elements that now provoke warnings.
* TBD [parsing] Add API to set strict parsing ([#17017][_#17017])  # Closes: #16954 Add a method to turn on strict parsing, and a test show it changes diagnostic behavior.
* TBD Joint API to retrieve viscous damping ([#17019][_#17019])
* TBD [multibody] Replace M.ldlt() in Tamsi no-contact path with LinearSolver ([#17038][_#17038])  # Resolves the immediate failure identified in #17037.
* TBD [parsing] Route package deprecations into the diagnostic channel ([#17047][_#17047])  # Also tidy up a couple misleading related comments and code nits.
* TBD [multibody] implements a Wing class to provide basic aerodynamics ([#17027][_#17027])  # This initial implementation only provides flat plate aerodynamics for now, but is written with an interface that will allow it to be extended. This is an updated implementation of a similar functionality that we had in the matlab version of Drake: https://github.com/RobotLocomotion/drake/blob/last_sha_with_original_matlab/drake/matlab/systems/plants/%40RigidBodyWing/RigidBodyWing.m
* TBD [geometry/optimization] Exclude edges with phi=0 constraint from optimization ([#17046][_#17046])  # * Exclude edges with phi=0 constraint from optimization
* TBD [parsing] Invalid SDFormat syntax is now an error (not warning) ([#17060][_#17060])
* TBD [meshcat] Adds hydroelastic force and moment vector visualization ([#16913][_#16913])  # Adds hydroelastic force and moment vector visualization subsystem and connects to ContactVisualizer and meldis.
* TBD [multibody,geometry] [math] Prefer LinearSolver over plain eigen solvers when using autodiff ([#17057][_#17057])
* TBD Add PontryaginDifference to HPolyhedron ([#17056][_#17056])
* TBD Create methods for relative spatial acceleration to parallel spatial velocity ([#17014][_#17014])
* TBD [plant] Add stacked actuation ports ([#17059][_#17059])
* TBD Revert "Create methods for relative spatial acceleration to parallel spatial velocity" ([#17100][_#17100])  # This reverts commit 0cab734c2dabac94795460b52e6f8a7f77a31500.
* TBD [multibody,manipulation,examples] SDF parsing: Warn about unsupported elements ([#17101][_#17101])  # Also cleans up some models which had been incorporated into drake with unsupported elements. Fixes #16785
* TBD [multibody] Remove some pointer-offset UB ([#17095][_#17095])  # Refer to https://reviews.llvm.org/D67122 for details. We are not allowed (for example) to form zero-sized blocks into zero-sized matrices, at least not with Eigen 3.3.7. This fault is detected by our forthcoming Clang 12 UBSan builds.
* TBD [plant] Remove stacked actuation port ([#17107][_#17107])
* TBD Relative spatial acceleration methods to parallel relative spatial velocity ([#17117][_#17117])  # Adds methods for relative spatial acceleration to parallel spatial velocity.
* TBD [multibody,math] [math] Move DifferentiableNorm to math; use it in Wing ([#17127][_#17127])  # As discussed in https://stackoverflow.com/a/72160960/7829525 the `Wing` class implementation was using a vector `norm()` call that is not differentiable at zero velocity.  For quadrotors, that's no good. I found internal::DifferentiableNorm hidden in the QuaternionIntegrationConstraint. This is a gem.  I've moved it to `math`, and called it from `Wing`.
* TBD [multibody] Remove some pointer-offset UB ([#17115][_#17115])  # Refer to https://reviews.llvm.org/D67122 for details. We are not allowed (for example) to form zero-sized blocks into zero-sized matrices, at least not with Eigen 3.3.7. This fault is detected by our forthcoming Clang 12 UBSan builds.
* TBD [fem] Move DeformableBodyConfig out of dev ([#17108][_#17108])

New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* TBD [examples/quadrotor] hotfix: fix segfault when QuadrotorPlant input port was not connected ([#17025][_#17025])  # Also fixes typo in input port name "propellor" => "propeller".
* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception go here> -->

* TBD [common] Speed up SoS using negation instead of subtraction ([#17013][_#17013])
* TBD Return reference in operator+= and operator-= of symbolic::Variables ([#17018][_#17018])  # This avoid unnecessary copy when we return the result.
* TBD Determine if a polynomial is even or odd ([#17021][_#17021])
* TBD Polynomial evaluates a batch of indeterminates ([#17065][_#17065])
* TBD [yaml] Deprecate YamlReadArchive and YamlWriteArchive ([#17084][_#17084])
* TBD Add python binding for ToSymmetricMatrixFromLowerTriangularColumns ([#17111][_#17111])
* TBD

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* TBD [pydrake] Remove StartMeshcat support for Google Colab ([#16949][_#16949])  # The master version of Drake can no longer run at all on Colab. (Drake's minimum Python version is 3.8 now.)
* TBD Add implicit dynamics binding ([#17032][_#17032])  # Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD [pydrake] Bind MbP::GetRigidBodyByName() ([#17042][_#17042])
* TBD [pydrake] Changing Python logging level also changes C++ level ([#17069][_#17069])  # Deprecate the confusing and now-superfluous pydrake set_log_level function. When using nicely formatted logging, emit "TRACE" not "Level 5".
* TBD Add python binding for Polynomial::EqualToAfterExpansion ([#17128][_#17128])
* TBD [pydrake] Add a few missing `rvp_copy` attributes ([#17126][_#17126])  # * [pydrake] Add a few missing `rvp_copy` I ran into this error working with `ExternallyAppliedSpatialForce`: ``` dtype = object arrays must be copied, and cannot be referenced ``` Once I understood the fix, I scanned quickly for other `.def_readwrite` statements that could have been missing the same, and found one more on that pass.

New features

* TBD

Fixes

* TBD

Newly bound

* TBD

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* TBD [tools,doc,setup] Use clang 12 ([#16937][_#16937])  # Remove installation of clang 9. Change all documentation and invocations to use clang-12 (likewise with llvm and clang-format). Remove incorrect documentation for running clang-format on macOS (the specified path is incorrect, and in practice, the binary should be in $PATH). Remove support for clang-6 and earlier from tools/lint/clang_format.py, which greatly simplifies the logic. Also, fix some places where the minimum required GCC version did not get updated, and fix some documentation that had outdated or missing cross-references, which should help with keeping all the bits up to date in the future. Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD [workspace] Remove bionic vtk support ([#16956][_#16956])  # Rebuild focal VTK archive with updated image setup.
* TBD [tools,doc,setup] Add Bazel config for compiler selection ([#17043][_#17043])  # Add ability to select which compiler to use by passing an appropriate --config to Bazel. Update documentation accordingly. In addition to being more convenient for users, this moves the specification of what clang version to use (only relevant on Ubuntu) to the Bazel configuration, rather than the user needing to specify this. This will also allow this information to be removed from the CI infrastructure.
* TBD Fix bazelrc on macOS ([#17062][_#17062])  # Fix an error in the macOS `environment.bazelrc` which was preventing it from being imported. (The arch-specific secondary import had the wrong name).
* TBD Always import environment.bazelrc ([#17082][_#17082])  # Change `.bazelrc` to always and unconditionally import `environment.bazelrc`, which will ensure that this has been duly created by the setup process and is error-free.
* TBD [workspace] Upgrade abseil_cpp_internal to latest commit ([#17097][_#17097])
* TBD [workspace] Upgrade common_robotics_utilities to latest commit ([#17097][_#17097])
* TBD [workspace] Upgrade dm_control to latest commit ([#17097][_#17097])
* TBD [workspace] Upgrade ghc_filesystem to latest release v1.5.12 ([#17097][_#17097])
* TBD [workspace] Upgrade rules_pkg to latest release 0.7.0 ([#17097][_#17097])
* TBD [workspace] Upgrade rules_python to latest release 0.8.1 ([#17097][_#17097])
* TBD [workspace] Upgrade stduuid to latest commit ([#17097][_#17097])
* TBD [workspace] Upgrade uwebsockets to latest release v20.14.0 ([#17097][_#17097])
* TBD [workspace] Upgrade voxelized_geometry_tools to latest commit ([#17097][_#17097])
* TBD [workspace] Upgrade buildifier to latest release 5.1.0 ([#17097][_#17097])
* TBD Work around PETSc 1180 ([#17102][_#17102])  # Work around an undefined-behavior sanitizer runtime failure in PETSc, "applying zero offset to null pointer", by adjusting the logic for the case when no bytes are allocated. Reported as https://gitlab.com/petsc/petsc/-/issues/1180. Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD

## Build dependencies

<!-- Manually relocate any "Upgrade foo_external to latest" lines to here, -->
<!-- and then sort them alphabetically. -->

* TBD

## Newly-deprecated APIs

* TBD

## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v1.3.0) named
``drake-YYYYMMDD-{focal|mac}.tar.gz``. See [Stable Releases](/from_binary.html#stable-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#16913]: https://github.com/RobotLocomotion/drake/pull/16913
[_#16937]: https://github.com/RobotLocomotion/drake/pull/16937
[_#16949]: https://github.com/RobotLocomotion/drake/pull/16949
[_#16953]: https://github.com/RobotLocomotion/drake/pull/16953
[_#16956]: https://github.com/RobotLocomotion/drake/pull/16956
[_#17008]: https://github.com/RobotLocomotion/drake/pull/17008
[_#17011]: https://github.com/RobotLocomotion/drake/pull/17011
[_#17013]: https://github.com/RobotLocomotion/drake/pull/17013
[_#17014]: https://github.com/RobotLocomotion/drake/pull/17014
[_#17017]: https://github.com/RobotLocomotion/drake/pull/17017
[_#17018]: https://github.com/RobotLocomotion/drake/pull/17018
[_#17019]: https://github.com/RobotLocomotion/drake/pull/17019
[_#17021]: https://github.com/RobotLocomotion/drake/pull/17021
[_#17025]: https://github.com/RobotLocomotion/drake/pull/17025
[_#17027]: https://github.com/RobotLocomotion/drake/pull/17027
[_#17029]: https://github.com/RobotLocomotion/drake/pull/17029
[_#17032]: https://github.com/RobotLocomotion/drake/pull/17032
[_#17034]: https://github.com/RobotLocomotion/drake/pull/17034
[_#17038]: https://github.com/RobotLocomotion/drake/pull/17038
[_#17042]: https://github.com/RobotLocomotion/drake/pull/17042
[_#17043]: https://github.com/RobotLocomotion/drake/pull/17043
[_#17046]: https://github.com/RobotLocomotion/drake/pull/17046
[_#17047]: https://github.com/RobotLocomotion/drake/pull/17047
[_#17056]: https://github.com/RobotLocomotion/drake/pull/17056
[_#17057]: https://github.com/RobotLocomotion/drake/pull/17057
[_#17059]: https://github.com/RobotLocomotion/drake/pull/17059
[_#17060]: https://github.com/RobotLocomotion/drake/pull/17060
[_#17062]: https://github.com/RobotLocomotion/drake/pull/17062
[_#17065]: https://github.com/RobotLocomotion/drake/pull/17065
[_#17069]: https://github.com/RobotLocomotion/drake/pull/17069
[_#17074]: https://github.com/RobotLocomotion/drake/pull/17074
[_#17076]: https://github.com/RobotLocomotion/drake/pull/17076
[_#17082]: https://github.com/RobotLocomotion/drake/pull/17082
[_#17084]: https://github.com/RobotLocomotion/drake/pull/17084
[_#17089]: https://github.com/RobotLocomotion/drake/pull/17089
[_#17094]: https://github.com/RobotLocomotion/drake/pull/17094
[_#17095]: https://github.com/RobotLocomotion/drake/pull/17095
[_#17096]: https://github.com/RobotLocomotion/drake/pull/17096
[_#17097]: https://github.com/RobotLocomotion/drake/pull/17097
[_#17100]: https://github.com/RobotLocomotion/drake/pull/17100
[_#17101]: https://github.com/RobotLocomotion/drake/pull/17101
[_#17102]: https://github.com/RobotLocomotion/drake/pull/17102
[_#17104]: https://github.com/RobotLocomotion/drake/pull/17104
[_#17106]: https://github.com/RobotLocomotion/drake/pull/17106
[_#17107]: https://github.com/RobotLocomotion/drake/pull/17107
[_#17108]: https://github.com/RobotLocomotion/drake/pull/17108
[_#17111]: https://github.com/RobotLocomotion/drake/pull/17111
[_#17114]: https://github.com/RobotLocomotion/drake/pull/17114
[_#17115]: https://github.com/RobotLocomotion/drake/pull/17115
[_#17117]: https://github.com/RobotLocomotion/drake/pull/17117
[_#17125]: https://github.com/RobotLocomotion/drake/pull/17125
[_#17126]: https://github.com/RobotLocomotion/drake/pull/17126
[_#17127]: https://github.com/RobotLocomotion/drake/pull/17127
[_#17128]: https://github.com/RobotLocomotion/drake/pull/17128
[_#17133]: https://github.com/RobotLocomotion/drake/pull/17133
<!-- <end issue links> -->

<!--
  Current oldest_commit 4e1146e7251aaff1e263b3b10a41f915827d9acb (exclusive).
  Current newest_commit dcc3b163658a58be54cd4fecc1804b59f5941f97 (inclusive).
-->

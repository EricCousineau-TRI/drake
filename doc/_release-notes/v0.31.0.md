---
title: Drake v0.31.0
released: YYYY-MM-DD
---

# Announcements

* TBD

# Breaking changes since v0.30.0

* TBD

# Changes since v0.30.0

## Dynamical Systems

<!-- <relnotes for systems go here> -->

* TBD trajopt: remove unused variables from DirectCollocationConstraint ([#15051][_#15051])
* TBD LeafSystem: remove allocations during simulation ([#15067][_#15067])  # Relevant to: #14543 Replace a function-scoped vector with a cache entry. Decline all invalidation services and use manual methods to ensure no data migrates between uses.
* TBD framework: Rephrase LeafSystem cache entry to avoid hasher warning ([#15085][_#15085])
* TBD diagram: Finish compatibility checks ([#15030][_#15030])  # Relevant to: #12560 Add system-id labeling to State, DiscreteValues, and CompositeEventCollection types. Check compatibility of objects at public Diagram methods. This patch completes much of the compatibility checking for Diagram<T> as detailed in the issue. Further work remains to close the issue.
* TBD Check if an InputPort is connected or exported ([#15096][_#15096])
* TBD [systems,manipulation] framework: Remove some allocations from event collections ([#15081][_#15081])  # Relevant to: #14543 Rewrite the storage of event collections to avoid most allocations, while maintaining most of the pre-existing public API. To support this change, allow fully-derived-type events to be copied and assigned. The Clone() mechanism is still supported, primarily for interfacing with Python. This patch also deprecates EventCollection<E>::add_event() and any overrides.
* TBD primitives: Add preliminary AutoDiffXd support to RandomSource ([#15092][_#15092])  # Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD framework: Remove more heap allocations from events ([#15101][_#15101])  # Relevant to: #14543 Remove unnecessary heap allocations from the rest of the event system.
* TBD system constraint: Add compatibility checks ([#15102][_#15102])  # Relevant to #12560 Add system id label to SystemConstraint. Set the correct label on admission to a system via AddConstraint(). Check compatibility of contexts at public methods of SystemConstraint.
* TBD simulator: Remove a stale work-around ([#15126][_#15126])  # Relevant to: #14901 Now the issue is fixed, the work-around is no longer needed.
* TBD discrete values: Avoid heap in non-converting SetFrom() ([#15118][_#15118])  # Closes: #14802.
* TBD system: Finish compatibility checks ([#15098][_#15098])  # (and declare breaking change) Relevant to: #12560 Add system-id labeling to the Parameters type. Check compatibility of objects at public methods of System, Diagram, and LeafSystem. This patch completes compatibility checking for System and its derived classes, including some Diagram methods missed in #15030. Further work remains to close the issue. Because this patch adds error checking without deprecating any public API, it must be considered a breaking change, even though the scenarios affected were unlikely to have worked before anyway. Related PRs that should also have been declared breaking to support compatibility checking are #12630, #15007, #15030, and #15102.
* TBD system test: Reduce boilerplate in tests ([#15145][_#15145])  # Discovered in work toward #12560. This patch should be neutral in terms of test coverage and semantics; it just absorbs some duplication in test-system classes to make future changes to API or virtual methods easier.
* TBD systems: Use C++17 spellings for type_traits ([#15148][_#15148])
* TBD [systems,common] Add LinearTransformDensity ([#15116][_#15116])
* TBD Add SystemScalarConverter::Remove() ([#15159][_#15159])  # * Promote System::get_mutable_system_scalar_converter() to protected Help support prohibiting a system to scalar convert to and from a particular scalar type at run time. See PR #15135 for an example usage.
* TBD controllers: Remove redundant syntax for DeclareCacheEntry ([#15175][_#15175])  # Also add a missing const for clarity.
* TBD [systems,examples,manipulation,multibody,geometry] Use kDefaultPortName throughout ([#15182][_#15182])  # This is in preparation for deprecating the overloads that allow the user to omit the port name. In many cases we should probably be using a more specific string literal instead of the kDefaultPortName, but for simplicity this commit converts everything to kDefaultPortName in bulk.  We can go back through each directory later one by one and have the subject matter experts choose better names. The only call sites not changed are the direct unit tests for System and LeafSytem (and their Python bindings).  Those need to be more carefully adjusted as part of the deprecation commit.
* TBD framework: Deprecate port declarations without names ([#15179][_#15179])  # When declaring an input or output port, users should pass a name as the first argument, or else say kUseDefaultName to default to u0, u1, ... or y0, y1, ... respectively.  The overloads that skipped the name are now deprecated.  This change was forewarned in the API documentation.
* TBD Add an output for density in LinearTransformDensity ([#15189][_#15189])
* TBD [framework] Document that DeclareCacheEntry will become protected ([#15197][_#15197])  # DeclareCacheEntry is currently specified as public access, but will be demoted to protected access on or after 2021-10-01.
* TBD [framework] Remove manipulation_station dependency from test ([#15196][_#15196])  # The system_html_test used ManipulationStation to demonstrate a large and complex diagram. The problem was that bazel test //systems/framework/... was therefore rebuilding a huge amount of additional code, and seriously slowing down development on patches that change the framework. I've been using a version of this patch locally for months any time I'm working on systems, but I think its time to improve it for everyone else.
* TBD [framework] Enable context validation for ports in Release builds ([#15181][_#15181])  # Doing this without eating a virtual function call means that we need to pass the SystemId into the Port objects so that they can perform the guard locally, without asking SystemMessageInterface. Add some Debug-only context validation checks to CacheEntry, to help backstop the rare cases where a user might be evaluating their cache entry without first checking the Context they were given.

New features

* TBD

Fixes

* TBD

## Mathematical Program

<!-- <relnotes for solvers go here> -->

* TBD scs solver capability use never_destroyed ([#15053][_#15053])
* TBD solvers: Amend SolverInterface for more detailed error messages ([#15028][_#15028])  # This is breaking change; any direct subclasses of SolverInterface need to implement the new ExplainUnsatisfiedProgramAttributes method.
* TBD Add is_convex flag to each QuadraticCost ([#15043][_#15043])  # This PR doesn't check if the aggregated cost is convex or not. If we have two quadratic costs cost1 and cost2, where cost1 is convex, cost2 is non-convex, and cost1 + cost2 is still convex. The convex solvers can still solve this problem, but currently we will require each cost to be convex, so that we can pass the MathematicalProgram to the convex solver. I made this choice for two reasons: i. It is computationally expensive/unreliable to determine if the aggregated cost is convex or not. The Hessian of the aggregated cost is likely to be a big sparse matrix, but Eigen doesn't provide a good LDLT solver for sparse matrix. The available sparse LDLT solvers in Eigen require LGPL license https://eigen.tuxfamily.org/dox/group__TopicSparseSystems.html. ii. This is the same behavior of CVX, which would throw an error if any individual cost is non-convex, even though the summed-up cost is convex.
* TBD factor out the common component in solvers/BUILD.bazel ([#15071][_#15071])
* TBD Solver explains that one quadratic cost is non-convex ([#15059][_#15059])
* TBD [solvers,tutorials] Rename AddL2NormCost to Add2NormSquaredCost ([#15134][_#15134])
* TBD solvers: Improve documentation of available() vs enabled() ([#15114][_#15114])  # Also improve error messages in case either of them are false.
* TBD solvers: Use C++17 spellings for type_traits ([#15155][_#15155])
* TBD solvers: Fix use-after-free from getenv on macOS ([#15152][_#15152])
* TBD solvers: add some missing SDP bindings (LMI and diagonal dominance) ([#15150][_#15150])  # * solvers: add some missing SDP bindings (diagonal dominance)
* TBD Add remaining bindings for mathematical program ([#15167][_#15167])
* TBD Fix a bug in GetAllConstraints() that exponential cone constraints were not included ([#15180][_#15180])  # Move several function definitions from mathematical_program.h to cc file.
* TBD solvers: add doxygen tag to another constraint method ([#15191][_#15191])
* TBD [solvers,common,systems,examples,multibody] common: Add Vector6d to eigen_types ([#15192][_#15192])

New features

* TBD

Fixes

* TBD

## Multibody Dynamics

<!-- <relnotes for geometry,multibody go here> -->

* TBD optimization: resolve minor TODO in ManipulatorEquationConstraint ([#15047][_#15047])
* TBD [geometry] Wire up hydroelastic derivatives all the way through QueryObject ([#15040][_#15040])  # - Callback - Eliminate the "unsupported" scalar code - Correct bug in which a switch on enum had a default case. - Unit test adds AutoDiffXd scalar to tests and tests for *presence* of appropriately sized derivatives (indicating derivative propagation). - ProximityEngine - Correct error that hydroelastic geometry was omitted in ToAutoDiff() - Extend test to check for appropriately sized derivatives where expected. Previously, it expected an exception to be thrown. - QueryObject - Update documentation vis a vis scalar support
* TBD [geometry] Clean up geometry/proximity build dependencies ([#15057][_#15057])  # Proximity used general declarations on "//common" a fair amount. This led to overly expansive dependencies. This simply pares down the declared dependencies to be more specific.
* TBD Make CalcCenterOfMassPositionInWorld() and CalcCenterOfMassTranslationalVelocityInWorld() consistent with CalcTotalMass() ([#15054][_#15054])  # Resolve issue [#14997]: Update center of mass position calculations so they are consistent with CalcTotalMass().
* TBD [multibody,geometry,solvers,lcm,tools,tutorials] Repair typos ([#15063][_#15063])  # These were found with `codespell`: $ apt install codespell $ codespell -wi3 A few false positives (binary files, identifiers that look like words) were skipped.
* TBD parsing: Add support for SDFormat 1.8 model composition ([#14401][_#14401])  # Changes in behavior: * Models nested via the `<include>` tag are no longer flattened, which means each included model will have its own model instance. * `drake::multibody::Parser::AddAllModelsFromFile` now returns all added models including nested models Note: This does not use a custom parser for URDFs via libsdformat's Interface API, and thus may incur unexpected behavior when including URDF files from SDFormat pending the full resolution of #14295.
* TBD [geometry] Corrects inconsistency in published/unpublished header files ([#15070][_#15070])  # There are a number of header files (that directly lead to including fcl) that are marked to be installed. However, there were three header files that *are* installed that included them directly. This removes those transitive references and shores up downstream code that lazily inherited headers via this path. Resolves #14792
* TBD Add features to PackageMap ([#15064][_#15064])  # - Makes PackageMap copy/move/assignable - Changes PackageMap::Add to allow duplicate (package, path) to be added without throwing - Adds PackageMap::AddMap to combine package maps - Adds PackageMap::GetPackageNames to enumerate the packages mapped by the map
* TBD Revert "parsing: Add support for SDFormat 1.8 model composition (#14401)" ([#15079][_#15079])  # This reverts commit 315334b0f3c13d85c3951e7d8f1c5a260fdbd702.
* TBD multibody: Relocate many MbT method definitions to cc file ([#15078][_#15078])  # Add missing test case for mismatched Joint subclass.
* TBD [geometry] Calculate centroid and area of a convex polygon represented as an ordered list of vertex positions ([#15034][_#15034])
* TBD [geometry] Introduce new bounding volume: axis-aligned bounding box ([#15058][_#15058])  # 1. Moves the Gottschalk box-overlap test *out* of Obb and into its own file. This is *just* movement, no changes in implementation. - Note, we're still using the Obb tests to test this code. 2. Adds the Aabb bounding volume class. 3. Add overlap tests between Aabb and Obb. 4. In build, roll the bounding volumes into a single build target to mitigate interdependencies.
* TBD Add DiscreteUpdateManager and PhysicalModel ([#15033][_#15033])  # Add a DiscreteUpdateManager class that advances the discrete states for MultibodyPlant. DiscreteUpdateManager provides an interface that extends MbP and that MbP knows how to invoke. It allows more flexibility in experimenting with new solvers and can be compiled independently from MbP. Add a PhysicalModel class that extends the physical models owned by MultibodyPlant. It allows more flexibility in experimenting new materials and models that may be simulated. To enable DiscreteUpdateManager and PhysicalModel, introduce attorney classes MultibodyPlantModelAttorney and MultibodyPlantDiscreteUpdateManagerAttorney that grant the necessary protected/private methods in MultibodyPlant that PhysicalModel and DiscreteUpdateManager needs. Co-authored-by: amcastro-tri alejandro.castro@tri.global
* TBD [multibody,examples] multibody: implements DoCalcImplicitTimeDerivativesResidual for MBP ([#15048][_#15048])  # Resolves #13164
* TBD [hotfix] Fix a mac ci build - test tolerance was too tight ([#15094][_#15094])  # * Fix a mac ci build - test tolerance was too tight The mac (in debug) needed a bit more tolerance in the test.
* TBD multibody: Improve error messages on element lookups ([#15083][_#15083])  # Specifically, when the model instance filtering is misconfigured, provide more information about what models might have matched.
* TBD Relax the tolerance of a globak IK test ([#15097][_#15097])  # Hotfix for CI failure.
* TBD [geometry] Create general bounding volume hierarchy ([#15084][_#15084])  # * Create general bounding volume hierarchy The Bvh code is now templated on bounding volume type so the same *hierarchy* logic can be used for different bounding volume types. Furthermore, support collision *between* hierarchies of different bounding volume types (in so far as the bounding volumes themselves support overlap tests. The majority of the meaningful changes are in: bvh.{h|cc}, obb.h and bvh_test.cc. All other changes are simply respellings of the Bvh invocation to account for the change in type declaration.
* TBD [geometry] Utility to add one representative triangle for each contact polygon ([#15035][_#15035])  # It will help speed up discrete hydroelastic contact model.
* TBD Refactor SoftsimSystem ([#15088][_#15088])  # Split SoftsimSystem into two classes. 1. DeformableModel inherits from PhysicalModel and provides capabilities to model deformable bodies. 2. DeformableRigidManager inherits from DiscreteUpdateManager and manages discrete updates for two-way coupled deformable rigid systems. Updates `run_cantilever_beam` to reflect the refactor. Address Alejandro's feedback
* TBD Adding collision filter manager API ([#15115][_#15115])  # In anticipation of expanding the functionality relating to working with collision filters, we're changing the public API. This introduces a *parallel* API and labels the old API as "legacy". The legacy API will be deprecated in a follow up PR. The purpose of the API is to reduce SceneGraph's knowledge of working with collision filters. SceneGraph produces a CollisionFilterManager, but all manipulation of collision filter configuration now belongs to that manager (reducing the churn on SceneGraph's already large API). To achieve this end: - Introduce new classes: CollisionFilterManager and CollisionFilterDeclaration. - The unit tests for CollisionFilterManager are copied from scene_graph_test.cc (as the manager can only be constructed by SceneGraph). The source test code is marked as Legacy for future deprecation. - Add new API: SceneGraph::collision_filter_manager(). - GeometryState updates API to support new manager/declaration API. This does *not* include bindings. Those will be included when we deprecate the legacy API.
* TBD parsing: Add support for SDFormat 1.8 model composition (redo) ([#15099][_#15099])  # This a redo of #14401 but does not create a frame for each model in the parent scope of the model. There is still a frame associated with each model, but it's named __model__ and is found inside the model instance. Changes in behavior: * Models nested via the `<include>` tag are no longer flattened, which means each included model will have its own model instance. * `drake::multibody::Parser::AddAllModelsFromFile` now returns all added models including nested models Note: This does not use a custom parser for URDFs via libsdformat's Interface API, and thus may incur unexpected behavior when including URDF files from SDFormat pending the full resolution of #14295. * Do not create frame named after model Signed-off-by: Addisu Z. Taddese <addisu@openrobotics.org>
* TBD Add support for parsing acceleration limits for some joints in URDF and SDF ([#15122][_#15122])
* TBD multibody tree: Validate contexts at public methods ([#15129][_#15129])  # Closes #11252. Since all of the context-taking methods in multibody/tree lead eventually to MultiBodyTreeSystem, ensure that all of its public methods validate the context.
* TBD Remove DeclareCacheEntry() from DiscreteUpdateManager attorney ([#15132][_#15132])  # DeclareCacheEntry() does not need to be exposed to DiscreteUpdateManager through the attorney class because it is public to begin with.
* TBD Revert "Adding collision filter manager API" ([#15139][_#15139])  # * Revert "Adding collision filter manager API (#15115)" This reverts commit e4d98c8c5c77f19152f32fcca4fb719081536f7c.
* TBD Support rigid dofs update in DeformableRigidManager ([#15123][_#15123])  # Copy the contact solve logic for rigid dofs in MultibodyPlant to DeformableRigidManager. Add unit test to verify that when only rigid dofs exist, the simulation results obtained through the discrete update manager is the same as that obtained from internal MultibodyPlant logic.
* TBD [geometry,multibody] Replaces calls to ComputeBasisFromAxis in favor of MakeFromOneVector() ([#15055][_#15055])  # Replace calls to ComputeBasisFromAxis() in favor of MakeFromOneVector().
* TBD geometry: Use C++17 spellings for type_traits ([#15149][_#15149])
* TBD Manage collision geometries with DeformableRigidManager ([#15128][_#15128])  # - Add RegisterCollisionObjects() that registers all rigid collision geometries registered in MultibodyPlant at the corresponding DeformableRigidManager. - Add RegisterDeformableGeometries() that registers all deformable geometries from DeformableModel at the corresponding DeformableRigidManager. - Add UpdateCollisionOjbectPoses() and UpdateDeformableVertexPositions() that update the geometries based on context. This is meant to be a temporary solution while SceneGraph doesn't support deformable geometries yet. When SceneGraph takes control of deformable geometries, much of the code here can be migrated to SceneGraph with some modifications.
* TBD multibody: Use C++17 spellings for type_traits ([#15153][_#15153])
* TBD [geometry] Make a deformable volume mesh ([#15117][_#15117])  # - Introduce the generic MeshDeformer abstract. - It is compatible with both SurfaceMesh and VolumeMesh. Each have been modified to support the deformer. - Add the DeformableVolumeMesh - Wraps a VolumeMesh with a corresponding MeshDeformer and provides an API for updating vertex positions. - Incidentally extends the VolumeMesh::Equal() method to include a tolerance between vertex positions. In the near future, a "deformable" bvh will be added as well.
* TBD Allow to everestimate the capacity for block sparse matrices ([#15162][_#15162])
* TBD multibody/test: Fix constant name style ([#15172][_#15172])
* TBD geometry: Remove redundant type annotation for DeclareCacheEntry ([#15174][_#15174])
* TBD multibody/tree: Clarify that continuous/discrete mode is invariant ([#15173][_#15173])  # It took me a few minutes to reason out whether or not this could ever change out from under us.  I'm saving the next reader that trouble.
* TBD :pencil: Fixed typo deend -> depend ([#15183][_#15183])
* TBD Implements continuosly differentiable atan(x)/x ([#14963][_#14963])
* TBD multibody/plant: Remove redundant syntax for DeclareCacheEntry ([#15176][_#15176])
* TBD [geometry] Parameter to select output format from mesh intersection ([#15131][_#15131])  # summary: 1. New parameter for ComputeContactSurfaceFromSoftVolumeRigidSurface() to choose between two representations of contact polygons. 2. Refactoring to create a test fixture that is shared between two functions that use the new parameter.
* TBD [multibody,systems] Support scalar conversion for external multibody plant components ([#15135][_#15135])  # To that end: * Add ScalarConvertibleComponent base class that PhysicalModel and DiscreteUpdateManager inherit from. * Add CloneToScalar() method for PhysicalModel and DiscreteUpdateManager. * Add Remove() overload to SystermScalarConverter to prevent scalar conversion to scalars not supported by certain components. Miscellaneous: Change names of experimental functions in MultibodyPlant to abide GSG.
* TBD Calculate deformable rigid contact pair ([#15160][_#15160])  # Add DeformableRigidManager::CalcDeformableRigidContactPair() that calculates the contact information between a deformable body and a rigid collision geometry. It wraps around ComputeTetMeshTriMeshContact() to provide additional information about the contact such as friction, stiffness, dissipation, and the rotation matrices to transform world frame quantities into contact frames.
* TBD [multibody] Tidy up attorney declaration order ([#15193][_#15193])
* TBD Change MbP component setters' signature ([#15195][_#15195])  # * Change SetContactSolver(), AddPhysicalModel(), and SetDiscreteUpdateManager() to void methods that take a unique pointer to the base class. * Move definition of these methods to .cc file to comply with GSG.

New features

* TBD

Fixes

* TBD

## Tutorials and examples

<!-- <relnotes for examples,tutorials go here> -->

* TBD In QP tutorial, mention the convexity check on the quadratic cost ([#15077][_#15077])
* TBD tutorials: Show derivatives of basic mbp computations w.r.t. mass ([#15103][_#15103])
* TBD [examples] Remove unnecessary model_value allocation boilerplate ([#15190][_#15190])  # * examples: Remove unnecessary model_value allocation boilerplate
* TBD

## Miscellaneous features and fixes

<!-- <relnotes for common,math,lcm,lcmtypes,manipulation,perception go here> -->

* TBD Add ostream << operator to print RollPitchYaw and RigidTransform per issue #14699 ([#14910][_#14910])
* TBD Add template specializations for several Eigen::numext functions ([#15065][_#15065])  # Specifically, specializations are added for isfinite, isinf, and isnan. The specializations just forward to internal functions. The reason the specializations are necessary is that the base templates rely on an implicit conversion to bool but the internal functions return Formula which only has an explicit conversion to bool.
* TBD [math,multibody] Add AVX support for inverse-rotation matrix times rotation matrix ([#15073][_#15073])  # * Add internal::ComposeRinvR() AVX method. Breaking change: moves ComposeRR() into internal namespace.
* TBD [perception,lcmtypes] perception: Add PointCloudToLcm system ([#14990][_#14990])  # Add new lcmt_point_cloud message type for it to encode into.
* TBD common: Use C++17 spellings for type_traits ([#15143][_#15143])
* TBD [math,geometry,multibody] Add AVX functions for transform composition ([#15119][_#15119])
* TBD [common,systems] Add python binding for LinearTransformDensity ([#15166][_#15166])  # Add python binding for LinearTransformDensity Co-authored-by: Jeremy Nimmer <jeremy.nimmer@tri.global>
* TBD [math,tools,perception] Use C++17 type_traits throughout ([#15157][_#15157])  # This tidies up math, perception, and vector_gen.
* TBD Deprecate ComputeBasisFromAxis() in C++ and Python ([#15154][_#15154])  # * Deprecate MakeOrthonormalBasis() in C++ and Python. * Remove the part of the deprecation message that is mostly auto-generated.
* TBD

## pydrake bindings

<!-- <relnotes for bindings go here> -->

* TBD pydrake: In pydrake.all, prefer pydrake.math over pydrake.symbolic ([#15052][_#15052])
* TBD pydrake: Remove spurious documentation header dependencies ([#15068][_#15068])  # These were added in 6f37fd67 at a time when our pydrake linking was broken. We were linking the examples' libraries outside of libdrake.so, so their headers were not part of libdrake's headers, so for mkdoc to find them we needed to list them here individually. Now that we link the examples correctly (i.e., directly into libdrake.so), we no longer need to feed the redundant dependencies to mkdoc. As of bazel 4.1, the redundant headers actually break mkdoc, because we try to add these headers twice, with the second path spelling not matching any valid include path.
* TBD Remove two boxes static equilibrium test in Python ([#15076][_#15076])  # The logic is already tested in C++ with two spheres.
* TBD pydrake: Add bindings for SolverInterface::enabled ([#15107][_#15107])
* TBD Remove deprecated code 2021-06 ([#15108][_#15108])
* TBD pydrake doc: Add mention about binding dependencies on public API ([#15100][_#15100])  # Part of this is specific to pydrake bindings, but can still be helpful for pybind11 in general.
* TBD solvers: add missing binding for AddLinearCost ([#15127][_#15127])
* TBD bind Monomial() constructor ([#15136][_#15136])
* TBD Add python binding for monomil * float -> polynomial ([#15138][_#15138])
* TBD solvers: reorder bindings to match order in mathematical_program.h ([#15141][_#15141])
* TBD Add python binding for LinearMatrixInequalityConstraint ([#15146][_#15146])
* TBD bindings: Use C++17 spellings for type_traits ([#15156][_#15156])
* TBD Add python binding for TaylorExpand ([#15185][_#15185])

New features

* TBD

Fixes

* TBD

Newly bound

* TBD

## Build system

<!-- <relnotes for cmake,doc,setup,third_party,tools go here> -->

* TBD doc: Add release notes v0.30.0 ([#15045][_#15045])  # * DNM Disable CI * notes: clean up the first few sections * wip * wip * wip * wip * wip * wip * wip * wip: first pass done * Factor out to h2 and sort the Build Dependencies * Remove non-notable changes (refactorings, docs) * Move APT site to announcements * Punt hydroelastic viz change into dynamics section Probably all of the hydroelatic changes should be culled, but having them all in once place is a start. * Prioritize and reword the breaking changes section * Note AVX breaking change * Fix some pydrake typos Remove non-notable (unit test) change * quadrotor example: add getter for geometry frame (#15046) * quadrotor example: add getter for geometry frame * Enable numpy math functions to work with symbolic variables. (#15039) * Enable numpy math functions to work with symbolic variables. https://github.com/RobotLocomotion/drake/issues/15038 Co-authored-by: Soonho Kong <soonho.kong@tri.global> * Remove deprecated code 2021-04-21 (#15050) Missed previously, perhaps owing to idiosyncratic date. * drake::multibody::MultiBodyPlant::CalcCenterOfMassPosition * all overloads * wip * wip * integrate new commits from merge of master * Merge remote-tracking branch 'upstream/master' into release_notes-v0.30.0 * Fix CaMel case typo * wip * set date * Revert "DNM Disable CI" This reverts commit 608e8ecaa3eefb483157cd2b22cfc06997102574. * wip
* TBD mkdoc: Work around a problematic deprecation_example header dep ([#15069][_#15069])  # When collecting the list of package headers, in the case of the deprecation example (which has no package library) we were ending up with two different copies of the header being passed to mkdoc: bazel-out/k8-opt/bin/bindings/pydrake/common/_virtual_includes/deprecation_example_class/drake/bindings/pydrake/common/test/deprecation_example/example_class.h bindings/pydrake/common/test/deprecation_example/example_class.h The first one is the path we want -- the one used while compiling, and thus the one with a matching -I flag.  The second one is a correct dependency, but not used for compiling, so does not have any -I flag, so breaks mkdoc. Here, we customize our skylark header collection to ignore the second file.
* TBD Document setup_drake_colab from releases ([#14482][_#14482])  # Related to #13779.
* TBD [doc,setup] setup: Upgrade recommended Bazel version to 4.1 ([#15086][_#15086])
* TBD mkdoc: output argument is not optional ([#15093][_#15093])
* TBD Reenable VGT test now that Catalina OpenCL is fixed ([#15095][_#15095])
* TBD workspace: Upgrade ghc_filesystem to latest release 1.5.6 ([#15109][_#15109])
* TBD workspace: Upgrade ros_xacro to latest release 1.13.11 ([#15111][_#15111])
* TBD workspace: Upgrade tinyobjloader to latest commit ([#15112][_#15112])
* TBD workspace: Upgrade googlebenchmark to latest release 1.5.4 ([#15110][_#15110])
* TBD workspace: Upgrade intel_realsense_ros to latest release 2.3.0 ([#15113][_#15113])
* TBD doc: Add build deps section release notes template ([#15158][_#15158])  # We've been adding this section for the past few releases; it's time to make it official.
* TBD Use Reviewable's new Bazel syntax highlighting ([#15163][_#15163])
* TBD code_style_guide: Remove notes on version numbers ([#15187][_#15187])
* TBD code_style_guide: Remove section on package.xml ([#15188][_#15188])  # Redundant w.r.t. upstream docs, not linted, etc.
* TBD [tools,examples] [manipulation_station] Optionally publish point clouds in sim ([#14991][_#14991])  # Add new drake_visualizer built-in script to show Drake point clouds.
* TBD Remove compiled Python files when building VTK binaries ([#15171][_#15171])
* TBD Document Drake's dependence on AVX2 and FMA instructions ([#15165][_#15165])
* TBD Allow robotlocomotion/director to change default branch name to main ([#15202][_#15202])
* TBD

## Build dependencies

<!-- Manually relocate any "Upgrade foo_external to latest" lines to here. -->

* TBD

## Newly-deprecated APIs

* TBD

## Removal of deprecated items

* TBD

# Notes


This release provides [pre-compiled binaries](https://github.com/RobotLocomotion/drake/releases/tag/v0.31.0) named
``drake-YYYYMMDD-{bionic|focal|mac}.tar.gz``. See [Nightly Releases](/from_binary.html#nightly-releases) for instructions on how to use them.

Drake binary releases incorporate a pre-compiled version of [SNOPT](https://ccom.ucsd.edu/~optimizers/solvers/snopt/) as part of the
[Mathematical Program toolbox](https://drake.mit.edu/doxygen_cxx/group__solvers.html). Thanks to
Philip E. Gill and Elizabeth Wong for their kind support.

<!-- <begin issue links> -->
[_#14401]: https://github.com/RobotLocomotion/drake/pull/14401
[_#14482]: https://github.com/RobotLocomotion/drake/pull/14482
[_#14910]: https://github.com/RobotLocomotion/drake/pull/14910
[_#14963]: https://github.com/RobotLocomotion/drake/pull/14963
[_#14990]: https://github.com/RobotLocomotion/drake/pull/14990
[_#14991]: https://github.com/RobotLocomotion/drake/pull/14991
[_#15028]: https://github.com/RobotLocomotion/drake/pull/15028
[_#15030]: https://github.com/RobotLocomotion/drake/pull/15030
[_#15033]: https://github.com/RobotLocomotion/drake/pull/15033
[_#15034]: https://github.com/RobotLocomotion/drake/pull/15034
[_#15035]: https://github.com/RobotLocomotion/drake/pull/15035
[_#15040]: https://github.com/RobotLocomotion/drake/pull/15040
[_#15043]: https://github.com/RobotLocomotion/drake/pull/15043
[_#15045]: https://github.com/RobotLocomotion/drake/pull/15045
[_#15047]: https://github.com/RobotLocomotion/drake/pull/15047
[_#15048]: https://github.com/RobotLocomotion/drake/pull/15048
[_#15051]: https://github.com/RobotLocomotion/drake/pull/15051
[_#15052]: https://github.com/RobotLocomotion/drake/pull/15052
[_#15053]: https://github.com/RobotLocomotion/drake/pull/15053
[_#15054]: https://github.com/RobotLocomotion/drake/pull/15054
[_#15055]: https://github.com/RobotLocomotion/drake/pull/15055
[_#15057]: https://github.com/RobotLocomotion/drake/pull/15057
[_#15058]: https://github.com/RobotLocomotion/drake/pull/15058
[_#15059]: https://github.com/RobotLocomotion/drake/pull/15059
[_#15063]: https://github.com/RobotLocomotion/drake/pull/15063
[_#15064]: https://github.com/RobotLocomotion/drake/pull/15064
[_#15065]: https://github.com/RobotLocomotion/drake/pull/15065
[_#15067]: https://github.com/RobotLocomotion/drake/pull/15067
[_#15068]: https://github.com/RobotLocomotion/drake/pull/15068
[_#15069]: https://github.com/RobotLocomotion/drake/pull/15069
[_#15070]: https://github.com/RobotLocomotion/drake/pull/15070
[_#15071]: https://github.com/RobotLocomotion/drake/pull/15071
[_#15073]: https://github.com/RobotLocomotion/drake/pull/15073
[_#15076]: https://github.com/RobotLocomotion/drake/pull/15076
[_#15077]: https://github.com/RobotLocomotion/drake/pull/15077
[_#15078]: https://github.com/RobotLocomotion/drake/pull/15078
[_#15079]: https://github.com/RobotLocomotion/drake/pull/15079
[_#15081]: https://github.com/RobotLocomotion/drake/pull/15081
[_#15083]: https://github.com/RobotLocomotion/drake/pull/15083
[_#15084]: https://github.com/RobotLocomotion/drake/pull/15084
[_#15085]: https://github.com/RobotLocomotion/drake/pull/15085
[_#15086]: https://github.com/RobotLocomotion/drake/pull/15086
[_#15088]: https://github.com/RobotLocomotion/drake/pull/15088
[_#15092]: https://github.com/RobotLocomotion/drake/pull/15092
[_#15093]: https://github.com/RobotLocomotion/drake/pull/15093
[_#15094]: https://github.com/RobotLocomotion/drake/pull/15094
[_#15095]: https://github.com/RobotLocomotion/drake/pull/15095
[_#15096]: https://github.com/RobotLocomotion/drake/pull/15096
[_#15097]: https://github.com/RobotLocomotion/drake/pull/15097
[_#15098]: https://github.com/RobotLocomotion/drake/pull/15098
[_#15099]: https://github.com/RobotLocomotion/drake/pull/15099
[_#15100]: https://github.com/RobotLocomotion/drake/pull/15100
[_#15101]: https://github.com/RobotLocomotion/drake/pull/15101
[_#15102]: https://github.com/RobotLocomotion/drake/pull/15102
[_#15103]: https://github.com/RobotLocomotion/drake/pull/15103
[_#15107]: https://github.com/RobotLocomotion/drake/pull/15107
[_#15108]: https://github.com/RobotLocomotion/drake/pull/15108
[_#15109]: https://github.com/RobotLocomotion/drake/pull/15109
[_#15110]: https://github.com/RobotLocomotion/drake/pull/15110
[_#15111]: https://github.com/RobotLocomotion/drake/pull/15111
[_#15112]: https://github.com/RobotLocomotion/drake/pull/15112
[_#15113]: https://github.com/RobotLocomotion/drake/pull/15113
[_#15114]: https://github.com/RobotLocomotion/drake/pull/15114
[_#15115]: https://github.com/RobotLocomotion/drake/pull/15115
[_#15116]: https://github.com/RobotLocomotion/drake/pull/15116
[_#15117]: https://github.com/RobotLocomotion/drake/pull/15117
[_#15118]: https://github.com/RobotLocomotion/drake/pull/15118
[_#15119]: https://github.com/RobotLocomotion/drake/pull/15119
[_#15122]: https://github.com/RobotLocomotion/drake/pull/15122
[_#15123]: https://github.com/RobotLocomotion/drake/pull/15123
[_#15126]: https://github.com/RobotLocomotion/drake/pull/15126
[_#15127]: https://github.com/RobotLocomotion/drake/pull/15127
[_#15128]: https://github.com/RobotLocomotion/drake/pull/15128
[_#15129]: https://github.com/RobotLocomotion/drake/pull/15129
[_#15131]: https://github.com/RobotLocomotion/drake/pull/15131
[_#15132]: https://github.com/RobotLocomotion/drake/pull/15132
[_#15134]: https://github.com/RobotLocomotion/drake/pull/15134
[_#15135]: https://github.com/RobotLocomotion/drake/pull/15135
[_#15136]: https://github.com/RobotLocomotion/drake/pull/15136
[_#15138]: https://github.com/RobotLocomotion/drake/pull/15138
[_#15139]: https://github.com/RobotLocomotion/drake/pull/15139
[_#15141]: https://github.com/RobotLocomotion/drake/pull/15141
[_#15143]: https://github.com/RobotLocomotion/drake/pull/15143
[_#15145]: https://github.com/RobotLocomotion/drake/pull/15145
[_#15146]: https://github.com/RobotLocomotion/drake/pull/15146
[_#15148]: https://github.com/RobotLocomotion/drake/pull/15148
[_#15149]: https://github.com/RobotLocomotion/drake/pull/15149
[_#15150]: https://github.com/RobotLocomotion/drake/pull/15150
[_#15152]: https://github.com/RobotLocomotion/drake/pull/15152
[_#15153]: https://github.com/RobotLocomotion/drake/pull/15153
[_#15154]: https://github.com/RobotLocomotion/drake/pull/15154
[_#15155]: https://github.com/RobotLocomotion/drake/pull/15155
[_#15156]: https://github.com/RobotLocomotion/drake/pull/15156
[_#15157]: https://github.com/RobotLocomotion/drake/pull/15157
[_#15158]: https://github.com/RobotLocomotion/drake/pull/15158
[_#15159]: https://github.com/RobotLocomotion/drake/pull/15159
[_#15160]: https://github.com/RobotLocomotion/drake/pull/15160
[_#15162]: https://github.com/RobotLocomotion/drake/pull/15162
[_#15163]: https://github.com/RobotLocomotion/drake/pull/15163
[_#15165]: https://github.com/RobotLocomotion/drake/pull/15165
[_#15166]: https://github.com/RobotLocomotion/drake/pull/15166
[_#15167]: https://github.com/RobotLocomotion/drake/pull/15167
[_#15171]: https://github.com/RobotLocomotion/drake/pull/15171
[_#15172]: https://github.com/RobotLocomotion/drake/pull/15172
[_#15173]: https://github.com/RobotLocomotion/drake/pull/15173
[_#15174]: https://github.com/RobotLocomotion/drake/pull/15174
[_#15175]: https://github.com/RobotLocomotion/drake/pull/15175
[_#15176]: https://github.com/RobotLocomotion/drake/pull/15176
[_#15179]: https://github.com/RobotLocomotion/drake/pull/15179
[_#15180]: https://github.com/RobotLocomotion/drake/pull/15180
[_#15181]: https://github.com/RobotLocomotion/drake/pull/15181
[_#15182]: https://github.com/RobotLocomotion/drake/pull/15182
[_#15183]: https://github.com/RobotLocomotion/drake/pull/15183
[_#15185]: https://github.com/RobotLocomotion/drake/pull/15185
[_#15187]: https://github.com/RobotLocomotion/drake/pull/15187
[_#15188]: https://github.com/RobotLocomotion/drake/pull/15188
[_#15189]: https://github.com/RobotLocomotion/drake/pull/15189
[_#15190]: https://github.com/RobotLocomotion/drake/pull/15190
[_#15191]: https://github.com/RobotLocomotion/drake/pull/15191
[_#15192]: https://github.com/RobotLocomotion/drake/pull/15192
[_#15193]: https://github.com/RobotLocomotion/drake/pull/15193
[_#15195]: https://github.com/RobotLocomotion/drake/pull/15195
[_#15196]: https://github.com/RobotLocomotion/drake/pull/15196
[_#15197]: https://github.com/RobotLocomotion/drake/pull/15197
[_#15202]: https://github.com/RobotLocomotion/drake/pull/15202
<!-- <end issue links> -->

<!--
  Current oldest_commit 3e86d88df36f1a7d34cb5663e5f404eb43ce4e42 (exclusive).
  Current newest_commit cafccd336b159b9779d62cabbf88ea0d9f00feac (inclusive).
-->
